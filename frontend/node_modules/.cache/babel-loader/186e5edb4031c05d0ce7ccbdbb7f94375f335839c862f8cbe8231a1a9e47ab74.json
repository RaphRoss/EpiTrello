{"ast":null,"code":"import _objectSpread from\"/home/balghar/Repository/Tec_3/Simulated_work/Epitrello-SIMULATED-/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import CardComments from'./CardComments';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const CardDetailModal=_ref=>{let{card,onClose,onUpdate,userId}=_ref;const[isEditing,setIsEditing]=useState(false);const[editedCard,setEditedCard]=useState(_objectSpread({},card));const handleSave=()=>{onUpdate(editedCard);setIsEditing(false);};const handleInputChange=(field,value)=>{setEditedCard(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));};const formatDate=dateString=>{if(!dateString)return'No due date';const date=new Date(dateString);return date.toLocaleDateString();};return/*#__PURE__*/_jsx(\"div\",{className:\"modal\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content card-detail-modal\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[isEditing?/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editedCard.title,onChange:e=>handleInputChange('title',e.target.value),className:\"form-input\",style:{fontSize:'20px',fontWeight:'bold'}}):/*#__PURE__*/_jsx(\"h2\",{className:\"modal-title\",children:card.title}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:onClose,children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-detail-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Description\"}),isEditing?/*#__PURE__*/_jsx(\"textarea\",{value:editedCard.description||'',onChange:e=>handleInputChange('description',e.target.value),className:\"form-textarea\",rows:\"4\"}):/*#__PURE__*/_jsx(\"p\",{children:card.description||'No description'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Due Date\"}),isEditing?/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:editedCard.dueDate?editedCard.dueDate.split('T')[0]:'',onChange:e=>handleInputChange('dueDate',e.target.value),className:\"form-input\"}):/*#__PURE__*/_jsx(\"p\",{children:formatDate(card.dueDate)})]}),card.attachments&&card.attachments.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"card-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Attachments (\",card.attachments.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"attachments-list\",children:card.attachments.map((att,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"attachment-item\",children:[\"\\uD83D\\uDCCE \",att.fileName]},idx))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-actions-section\",children:isEditing?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,className:\"btn-primary\",children:\"Save Changes\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsEditing(false),className:\"btn-secondary\",children:\"Cancel\"})]}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsEditing(true),className:\"btn-primary\",children:\"Edit Card\"})}),/*#__PURE__*/_jsx(CardComments,{cardId:card.id,userId:userId})]})]})});};export default CardDetailModal;","map":{"version":3,"names":["React","useState","CardComments","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CardDetailModal","_ref","card","onClose","onUpdate","userId","isEditing","setIsEditing","editedCard","setEditedCard","_objectSpread","handleSave","handleInputChange","field","value","prev","formatDate","dateString","date","Date","toLocaleDateString","className","onClick","children","e","stopPropagation","type","title","onChange","target","style","fontSize","fontWeight","description","rows","dueDate","split","attachments","length","map","att","idx","fileName","cardId","id"],"sources":["/home/balghar/Repository/Tec_3/Simulated_work/Epitrello-SIMULATED-/frontend/src/components/CardDetailModal.js"],"sourcesContent":["import React, { useState } from 'react';\nimport CardComments from './CardComments';\n\nconst CardDetailModal = ({ card, onClose, onUpdate, userId }) => {\n  const [isEditing, setIsEditing] = useState(false);\n  const [editedCard, setEditedCard] = useState({ ...card });\n\n  const handleSave = () => {\n    onUpdate(editedCard);\n    setIsEditing(false);\n  };\n\n  const handleInputChange = (field, value) => {\n    setEditedCard(prev => ({ ...prev, [field]: value }));\n  };\n\n  const formatDate = (dateString) => {\n    if (!dateString) return 'No due date';\n    const date = new Date(dateString);\n    return date.toLocaleDateString();\n  };\n\n  return (\n    <div className=\"modal\" onClick={onClose}>\n      <div className=\"modal-content card-detail-modal\" onClick={e => e.stopPropagation()}>\n        <div className=\"modal-header\">\n          {isEditing ? (\n            <input\n              type=\"text\"\n              value={editedCard.title}\n              onChange={(e) => handleInputChange('title', e.target.value)}\n              className=\"form-input\"\n              style={{ fontSize: '20px', fontWeight: 'bold' }}\n            />\n          ) : (\n            <h2 className=\"modal-title\">{card.title}</h2>\n          )}\n          <button className=\"close-btn\" onClick={onClose}>\n            Ã—\n          </button>\n        </div>\n\n        <div className=\"card-detail-content\">\n          <div className=\"card-section\">\n            <h3>Description</h3>\n            {isEditing ? (\n              <textarea\n                value={editedCard.description || ''}\n                onChange={(e) => handleInputChange('description', e.target.value)}\n                className=\"form-textarea\"\n                rows=\"4\"\n              />\n            ) : (\n              <p>{card.description || 'No description'}</p>\n            )}\n          </div>\n\n          <div className=\"card-section\">\n            <h3>Due Date</h3>\n            {isEditing ? (\n              <input\n                type=\"date\"\n                value={editedCard.dueDate ? editedCard.dueDate.split('T')[0] : ''}\n                onChange={(e) => handleInputChange('dueDate', e.target.value)}\n                className=\"form-input\"\n              />\n            ) : (\n              <p>{formatDate(card.dueDate)}</p>\n            )}\n          </div>\n\n          {card.attachments && card.attachments.length > 0 && (\n            <div className=\"card-section\">\n              <h3>Attachments ({card.attachments.length})</h3>\n              <div className=\"attachments-list\">\n                {card.attachments.map((att, idx) => (\n                  <div key={idx} className=\"attachment-item\">\n                    ðŸ“Ž {att.fileName}\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          <div className=\"card-actions-section\">\n            {isEditing ? (\n              <>\n                <button onClick={handleSave} className=\"btn-primary\">\n                  Save Changes\n                </button>\n                <button onClick={() => setIsEditing(false)} className=\"btn-secondary\">\n                  Cancel\n                </button>\n              </>\n            ) : (\n              <button onClick={() => setIsEditing(true)} className=\"btn-primary\">\n                Edit Card\n              </button>\n            )}\n          </div>\n\n          <CardComments cardId={card.id} userId={userId} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CardDetailModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}