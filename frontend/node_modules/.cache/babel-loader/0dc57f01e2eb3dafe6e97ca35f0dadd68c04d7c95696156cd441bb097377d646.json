{"ast":null,"code":"import _objectSpread from\"/home/balghar/Repository/Tec_3/Simulated_work/Epitrello-SIMULATED-/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Modal=_ref=>{let{title,onClose,onSubmit,fields}=_ref;const[formData,setFormData]=useState({});const[attachments,setAttachments]=useState([]);const handleSubmit=e=>{e.preventDefault();onSubmit(_objectSpread(_objectSpread({},formData),{},{attachments}));};const handleInputChange=(name,value)=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleFileChange=async e=>{const files=Array.from(e.target.files);const filePromises=files.map(file=>{return new Promise(resolve=>{const reader=new FileReader();reader.onload=event=>{resolve({fileName:file.name,fileData:event.target.result,size:file.size});};reader.readAsDataURL(file);});});const fileData=await Promise.all(filePromises);setAttachments(prev=>[...prev,...fileData]);};const removeAttachment=index=>{setAttachments(prev=>prev.filter((_,i)=>i!==index));};return/*#__PURE__*/_jsx(\"div\",{className:\"modal\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"modal-title\",children:title}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:onClose,children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[fields.map(field=>/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[field.label,field.required&&' *']}),field.type==='textarea'?/*#__PURE__*/_jsx(\"textarea\",{className:\"form-textarea\",value:formData[field.name]||'',onChange:e=>handleInputChange(field.name,e.target.value),required:field.required,placeholder:field.placeholder}):/*#__PURE__*/_jsx(\"input\",{type:field.type||'text',className:\"form-input\",value:formData[field.name]||'',onChange:e=>handleInputChange(field.name,e.target.value),required:field.required,placeholder:field.placeholder})]},field.name)),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Attachments\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",multiple:true,onChange:handleFileChange,className:\"form-input\",style:{padding:'8px'}}),attachments.length>0&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'8px'},children:attachments.map((att,idx)=>/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'4px 8px',backgroundColor:'#f4f5f7',borderRadius:'4px',marginBottom:'4px'},children:[/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'12px'},children:[\"\\uD83D\\uDCCE \",att.fileName]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeAttachment(idx),style:{background:'transparent',border:'none',color:'#dc3545',cursor:'pointer',fontSize:'16px'},children:\"\\xD7\"})]},idx))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-secondary\",onClick:onClose,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary\",children:\"Create\"})]})]})]})});};export default Modal;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Modal","_ref","title","onClose","onSubmit","fields","formData","setFormData","attachments","setAttachments","handleSubmit","e","preventDefault","_objectSpread","handleInputChange","name","value","prev","handleFileChange","files","Array","from","target","filePromises","map","file","Promise","resolve","reader","FileReader","onload","event","fileName","fileData","result","size","readAsDataURL","all","removeAttachment","index","filter","_","i","className","onClick","children","stopPropagation","field","label","required","type","onChange","placeholder","multiple","style","padding","length","marginTop","att","idx","display","justifyContent","alignItems","backgroundColor","borderRadius","marginBottom","fontSize","background","border","color","cursor"],"sources":["/home/balghar/Repository/Tec_3/Simulated_work/Epitrello-SIMULATED-/frontend/src/components/Modal.js"],"sourcesContent":["import React, { useState } from 'react';\n\nconst Modal = ({ title, onClose, onSubmit, fields }) => {\n  const [formData, setFormData] = useState({});\n  const [attachments, setAttachments] = useState([]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSubmit({ ...formData, attachments });\n  };\n\n  const handleInputChange = (name, value) => {\n    setFormData(prev => ({ ...prev, [name]: value }));\n  };\n\n  const handleFileChange = async (e) => {\n    const files = Array.from(e.target.files);\n    const filePromises = files.map(file => {\n      return new Promise((resolve) => {\n        const reader = new FileReader();\n        reader.onload = (event) => {\n          resolve({\n            fileName: file.name,\n            fileData: event.target.result,\n            size: file.size\n          });\n        };\n        reader.readAsDataURL(file);\n      });\n    });\n    \n    const fileData = await Promise.all(filePromises);\n    setAttachments(prev => [...prev, ...fileData]);\n  };\n\n  const removeAttachment = (index) => {\n    setAttachments(prev => prev.filter((_, i) => i !== index));\n  };\n\n  return (\n    <div className=\"modal\" onClick={onClose}>\n      <div className=\"modal-content\" onClick={e => e.stopPropagation()}>\n        <div className=\"modal-header\">\n          <h2 className=\"modal-title\">{title}</h2>\n          <button className=\"close-btn\" onClick={onClose}>\n            Ã—\n          </button>\n        </div>\n        \n        <form onSubmit={handleSubmit}>\n          {fields.map(field => (\n            <div key={field.name} className=\"form-group\">\n              <label className=\"form-label\">\n                {field.label}\n                {field.required && ' *'}\n              </label>\n              {field.type === 'textarea' ? (\n                <textarea\n                  className=\"form-textarea\"\n                  value={formData[field.name] || ''}\n                  onChange={(e) => handleInputChange(field.name, e.target.value)}\n                  required={field.required}\n                  placeholder={field.placeholder}\n                />\n              ) : (\n                <input\n                  type={field.type || 'text'}\n                  className=\"form-input\"\n                  value={formData[field.name] || ''}\n                  onChange={(e) => handleInputChange(field.name, e.target.value)}\n                  required={field.required}\n                  placeholder={field.placeholder}\n                />\n              )}\n            </div>\n          ))}\n          \n          <div className=\"form-group\">\n            <label className=\"form-label\">Attachments</label>\n            <input\n              type=\"file\"\n              multiple\n              onChange={handleFileChange}\n              className=\"form-input\"\n              style={{ padding: '8px' }}\n            />\n            {attachments.length > 0 && (\n              <div style={{ marginTop: '8px' }}>\n                {attachments.map((att, idx) => (\n                  <div key={idx} style={{ \n                    display: 'flex', \n                    justifyContent: 'space-between', \n                    alignItems: 'center',\n                    padding: '4px 8px',\n                    backgroundColor: '#f4f5f7',\n                    borderRadius: '4px',\n                    marginBottom: '4px'\n                  }}>\n                    <span style={{ fontSize: '12px' }}>ðŸ“Ž {att.fileName}</span>\n                    <button\n                      type=\"button\"\n                      onClick={() => removeAttachment(idx)}\n                      style={{\n                        background: 'transparent',\n                        border: 'none',\n                        color: '#dc3545',\n                        cursor: 'pointer',\n                        fontSize: '16px'\n                      }}\n                    >\n                      Ã—\n                    </button>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n          \n          <div className=\"form-actions\">\n            <button type=\"button\" className=\"btn-secondary\" onClick={onClose}>\n              Cancel\n            </button>\n            <button type=\"submit\" className=\"btn-primary\">\n              Create\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Modal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}